/**
 * This is a collection of test data for the tileWalker.js script.
 * Exported projection is mercator.
 *
 * In all cases, 'E' denotes the existing data and 'N' denotes the new data.
 * All cases assume a modifying operation, not adding or deleting. This means
 * all updated features already exist in the database, but may have their geometry
 * modified.
 *
 * Following cases are covered:
 *
 * 1. E and N are disjoint
 * 2. E and N are identical
 * 3. E is a subset of N ("N expands E")
 * 4. N is a subset of E ("N reduces E")
 *
 * The test data is structured as follows:
 * {
 *  existingData: <existing data>,
 * newData: <new data>,
 * zoomLevel: <zoom level>
 * }
 * where <existing data> and <new data> are GeoJSON FeatureCollections.
 */

/**
 * Polygon that resides in tiles
 * 4/13/6, 4/14/6
 * 4/13/7, 4/14/7
 *
 * Reference: Japanese strategical offensive area of the Kido Butai (1941â€“42)
 */

import * as turf from "@turf/turf";
export const philippineSea1 = turf.toMercator(
  turf.polygon([
    [
      [123.93122361284969, 35.039003591441016],
      [123.81063776923963, 11.040621043622352],
      [156.67402114902075, 0.7861247603822648],
      [153.09543721636254, 31.842657907181447],
      [123.93122361284969, 35.039003591441016],
    ],
  ])
);

/**
 * Polygon that resides in tiles
 * 4/13/6, 4/14/6
 * 4/13/7, 4/14/7
 *
 * Unchanged tiles: 4/13/6
 *
 * Reference: Japanese strategical offensive area, excluding the Battleground
 * of the Battle of Midway in 1942.
 */
export const philippineSea2 = turf.toMercator(
  turf.polygon([
    [
      [123.93122361284969, 35.039003591441016],
      [123.81063776923963, 11.040621043622352],
      [124.63608662136772, 9.00725758925455],
      [153.09543721636254, 31.842657907181447],
      [123.93122361284969, 35.039003591441016],
    ],
  ])
);

/**
 * LineString that resides in tiles
 *
 * 4/4/4, 4/4/6,
 * 4/5/5, 4/6/5, 4/7/5
 *
 * Reference: Titanic's planned sea route from Southampton to New York,
 * including the stops at Cherbourg and Queenstown.
 */
export const titanicSeaRoutePlanned = turf.lineString([
  [-573873.3354987949, 7319379.702908587],
  [-8077.236149098724, 6692691.514687512],
  [-247495.15046971105, 6309799.103385645],
  [-886122.9639596837, 6751650.521372497],
  [-8224557.786374791, 4870562.560257655],
]);

/**
 * LineString that resides in tiles
 *
 *  4/5/5, 4/6/5, 4/7/5
 *
 *  Reference: Titanic's actual sea route, ending at the sinking location.
 */
export const titanicSeaRouteActual = turf.lineString([
  [-573873.3354987949, 7319379.702908587],
  [-8077.236149098724, 6692691.514687512],
  [-247495.15046971105, 6309799.103385645],
  [-886122.9639596837, 6751650.521372497],
  [-5560214.089973594, 5120162.394070463],
]);

//console.log(JSON.stringify(turf.toWgs84(titanicSeaRoutePlanned.geometry)));
//console.log(JSON.stringify(turf.toWgs84(titanicSeaRouteActual.geometry)));

/**
 * Polygon that resides in tiles
 *
 * Test case: Long diagonal polygon that spans multiple tiles
 * For redundancy testing in cache eviction strat#2
 *
 *
 * Reference: Italy
 */
export const italy = turf.polygon([
  [
    [1003993.2737107273, 5534398.060967345],
    [1353595.9115456953, 5658590.931226213],
    [1562509.6682267557, 5267297.3596650865],
    [1805000.614151368, 5142975.812308172],
    [1776853.28300395, 5078825.281157998],
    [1974584.845613509, 4976051.88502266],
    [2063459.6373195387, 4890181.267598357],
    [2048126.1567244604, 4837290.919343896],
    [1949951.2417217214, 4909513.019688054],
    [1902265.8364215535, 4935181.359986971],
    [1835889.5278638985, 4825721.253353604],
    [1915679.8966118656, 4774312.672642888],
    [1922391.6158448183, 4712209.731663922],
    [1880217.510501658, 4707898.85098286],
    [1848184.4471667414, 4689861.300925039],
    [1844630.080716873, 4638612.150899408],
    [1791996.0719952965, 4570378.943774276],
    [1743929.2834876669, 4569822.499422406],
    [1745986.2519344683, 4610067.806085207],
    [1807138.860986644, 4710865.51216221],
    [1740540.5999066138, 4875197.9092920935],
    [1587420.94426431, 4963407.611600903],
    [1287490.9131857015, 5195197.9719733],
    [1003993.2737107273, 5534398.060967345],
  ],
]);

/**
 * Polygon that resides in tiles
 *
 * Test case: Long diagonal polygon that spans multiple tiles
 * For redundancy testing in cache eviction strat#2
 *
 *
 * Reference: Italy, including the island of Elba
 */
export const italyWithElba = turf.polygon([
  [
    [1003993.2737107273, 5534398.060967345],
    [1353595.9115456953, 5658590.931226213],
    [1562509.6682267557, 5267297.3596650865],
    [1805000.614151368, 5142975.812308172],
    [1776853.28300395, 5078825.281157998],
    [1974584.845613509, 4976051.88502266],
    [2063459.6373195387, 4890181.267598357],
    [2048126.1567244604, 4837290.919343896],
    [1949951.2417217214, 4909513.019688054],
    [1902265.8364215535, 4935181.359986971],
    [1835889.5278638985, 4825721.253353604],
    [1915679.8966118656, 4774312.672642888],
    [1922391.6158448183, 4712209.731663922],
    [1880217.510501658, 4707898.85098286],
    [1848184.4471667414, 4689861.300925039],
    [1844630.080716873, 4638612.150899408],
    [1791996.0719952965, 4570378.943774276],
    [1743929.2834876669, 4569822.499422406],
    [1745986.2519344683, 4610067.806085207],
    [1807138.860986644, 4710865.51216221],
    [1740540.5999066138, 4875197.9092920935],
    [1587420.94426431, 4963407.611600903],
    [1287490.9131857015, 5195197.9719733],
    [1113921.7183274191, 5261462.295430639],
    [1003993.2737107273, 5534398.060967345],
  ],
]);

/* Sanity check to viualize the polygon using geojson.io */
/*
const a = turf.toWgs84(italia.geometry);
console.log(JSON.stringify(a));
console.log();
console.log(JSON.stringify(turf.toWgs84(italiaWithElba.geometry)));
*/

export const setzensack1 = turf.polygon([
  [
    [1366163.7838552229, 6197542.917247698],
    [1366325.018211762, 6197517.836347791],
    [1366498.1958539705, 6197473.646190815],
    [1366537.60869668, 6197440.204990939],
    [1366554.3292966175, 6197504.698733555],
    [1366703.620367487, 6197412.7354339],
    [1366598.519453595, 6197373.32259119],
    [1366603.2967678627, 6197296.885562905],
    [1366452.8113684263, 6197287.330934369],
    [1366444.4510684574, 6197226.420177454],
    [1366174.5328123255, 6197252.6954059275],
    [1366098.0957840404, 6197290.91392007],
    [1366163.7838552229, 6197542.917247698],
  ],
]);

export const setzensack2 = turf.polygon([
  [
    [1366399.0665829133, 6197575.164119005],
    [1366389.5119543776, 6197685.042347166],
    [1366470.7262969306, 6197685.042347166],
    [1366694.0657389513, 6197569.192476171],
    [1366790.8063528747, 6197534.556947729],
    [1366751.3935101652, 6197415.124091034],
    [1366739.4502244957, 6197416.318419601],
    [1366703.620367487, 6197412.7354339],
    [1366598.519453595, 6197373.32259119],
    [1366603.2967678627, 6197296.885562905],
    [1366452.8113684263, 6197287.330934369],
    [1366444.4510684574, 6197226.420177454],
    [1366174.5328123255, 6197252.6954059275],
    [1366098.0957840404, 6197290.91392007],
    [1366163.7838552229, 6197542.917247698],
    [1366325.018211762, 6197517.836347791],
    [1366395.4835972125, 6197498.72709072],
    [1366399.0665829133, 6197575.164119005],
  ],
]);

/** Big quadrangle for tests on low zoom levels
 *
 * Corner points reside in the following tiles:
 * 4x4 on zoom level 3
 * Upper Left: 3/3/1
 * Lower Left: 3/3/4
 * Lower Right: 3/6/4
 * Upper Right: 3/6/1
 *
 * Ref: imgs/bigQuadrangle.png
 */
export const bigQuadrangle = turf.polygon([
  [
    [-2450478.684056025, 12441269.68254023],
    [-2410826.808284878, -2654260.1151822116],
    [13024171.59935586, -2662959.251193231],
    [12932021.44928567, 12601293.324045219],
    [-2450478.684056025, 12441269.68254023],
  ],
]);

console.log(
  "bigQuadrangleJSON",
  JSON.stringify(turf.toWgs84(bigQuadrangle.geometry))
);

/** Polygon over Africa in an upside down L shape
 * Includes the island of Madagascar
 *
 * On zoom level 3 the polygon resides in the following tiles:
 * 3/3/3, 3/4/3, 3/5/3,
 *        3/4/4, 3/5/4
 *
 *
 *
 */
export const africaL = turf.toMercator(
  turf.polygon([
    [
      [50.69002933248774, -37.49017283962983],
      [50.69002933248774, 38.757972249286865],
      [-26.66799103718145, 38.710605818676754],
      [-26.942918422215257, 9.071978618983906],
      [7.837843749102291, 6.959414863108563],
      [8.211300380242562, -37.61490210257571],
      [50.69002933248774, -37.49017283962983],
    ],
  ])
);

/**
 * Polygon over Africa in an upside down L shape
 * Includes the island of Madagascar
 * Introduces a small patch in the west coast of Africa, reducing the size of the
 * included sea area, fitting into the curved shape of the continent.
 *
 * On zoom level 3 the polygon resides in the following tiles:
 * 3/3/3, 3/4/3, 3/5/3, (<- differ from africaL)
 *        3/4/4, 3/5/4  (<- unchanged)
 */
export const africaLWestCoastPatch = turf.toMercator(
  turf.polygon([
    [
      [50.69002933248774, -37.49017283962983],
      [50.69002933248774, 38.757972249286865],
      [7.589744617279116, 37.95184981777541],
      [-12.2485490256865, 35.49063206644619],
      [-24.219843573895673, 22.11622100366675],
      [-13.084946127539354, 3.627346479329759],
      [8.053971754493006, 1.3563556266067849],
      [8.211300380242562, -37.61490210257571],
      [50.69002933248774, -37.49017283962983],
    ],
  ])
);

export const clusterStress = turf.toMercator(
  turf.multiPolygon([
    [
      [
        [-118.53195566548072, 61.33769314387669],
        [-118.53195566548072, 59.39550961835178],
        [-114.93007014169336, 59.39550961835178],
        [-114.93007014169336, 61.33769314387669],
        [-118.53195566548072, 61.33769314387669],
      ],
    ],
    [
      [
        [-118.53195566548072, 58.20833818211301],
        [-120.82406463516404, 62.11319310864238],
        [-111.3281846179056, 64.46657539432852],
        [-126.06317085158267, 63.01829486687984],
        [-123.44361774337335, 55.709989199554315],
        [-117.8770673884287, 54.77667534926783],
        [-112.96540531053606, 58.20833818211301],
        [-118.53195566548072, 58.20833818211301],
      ],
    ],
    [
      [
        [-65.48600522424351, -5.955023289685187],
        [-65.48600522424351, -18.099871640670216],
        [-58.282234176667984, -18.099871640670216],
        [-55.33523692993265, -10.812677933105775],
        [-65.48600522424351, -5.955023289685187],
      ],
    ],
    [
      [
        [7.071257532736325, 48.016985278526676],
        [7.384547602656113, 48.016985278526676],
        [7.384547602656113, 53.22211147870587],
        [7.071257532736325, 53.22211147870587],
        [7.071257532736325, 48.016985278526676],
      ],
    ],
    [
      [
        [8.881377936718195, 49.935908789526536],
        [8.70732789787371, 48.016985278526676],
        [13.406678946673622, 47.900429953329166],
        [9.15985799886883, 48.29564566722206],
        [8.881377936718195, 49.935908789526536],
      ],
    ],
    [
      [
        [10.011648238971844, 48.51780862291838],
        [10.20435570880582, 48.506203024152114],
        [10.414582039533997, 49.868646133865866],
        [10.151799126123478, 49.868646133865866],
        [10.011648238971844, 48.51780862291838],
      ],
    ],
    [
      [
        [10.43210090042814, 48.52941156355294],
        [10.677364952943151, 48.56420443799604],
        [10.799996979202007, 49.868646133865866],
        [10.659846092048952, 49.868646133865866],
        [10.43210090042814, 48.52941156355294],
      ],
    ],
    [
      [
        [11.027742170822847, 49.80084875016706],
        [10.852553561882957, 48.26187119015097],
        [11.150374197080339, 48.21519878109277],
        [11.290525084233366, 49.82345843929639],
        [11.027742170822847, 49.80084875016706],
      ],
    ],
    [
      [
        [9.293374942318252, 48.63371843540844],
        [9.293374942318252, 48.36672845675474],
        [9.398488107683022, 48.36672845675474],
        [9.398488107683022, 48.63371843540844],
        [9.293374942318252, 48.63371843540844],
      ],
    ],
    [
      [
        [9.459217840358235, 48.631147000680784],
        [9.459217840358235, 48.319780637296844],
        [10.792922067981124, 48.175201019110034],
        [10.96572759913579, 49.60551289757785],
        [10.872678466975913, 49.60551289757785],
        [10.699872935821247, 48.508003986583276],
        [10.43844918356271, 48.472765180020275],
        [10.371985517734458, 48.49919658072264],
        [10.584669248385751, 49.71164032492874],
        [10.465034649894335, 49.720235108490755],
        [10.234627275021893, 48.45219789992589],
        [9.94661805643321, 48.48451416985594],
        [10.079545388089741, 49.82611239566296],
        [9.459217840358235, 48.631147000680784],
      ],
    ],
  ])
);

export const clusterStressPatchPolys = turf.toMercator(
  turf.multiPolygon([
    [
      [
        [-114.49281859034848, 61.63299907672857],
        [-114.49281859034848, 59.690815551203656],
        [-110.89093306656112, 59.690815551203656],
        [-110.89093306656112, 61.63299907672857],
        [-114.49281859034848, 61.63299907672857],
      ],
    ],
    [
      [
        [-118.53195566548072, 58.20833818211301],
        [-115.00770724697375, 62.18862239871538],
        [-111.3281846179056, 64.46657539432852],
        [-126.06317085158267, 63.01829486687984],
        [-123.44361774337335, 55.709989199554315],
        [-117.8770673884287, 54.77667534926783],
        [-112.96540531053606, 58.20833818211301],
        [-118.53195566548072, 58.20833818211301],
      ],
    ],
    [
      [
        [-65.48600522424351, -5.955023289685187],
        [-65.48600522424351, -18.099871640670216],
        [-59.115938872866565, -16.158057067675117],
        [-55.33523692993265, -10.812677933105775],
        [-61.45275194733584, -2.1601106800100567],
        [-65.48600522424351, -5.955023289685187],
      ],
    ],
    [
      [
        [7.071257532736325, 48.016985278526676],
        [7.384547602656113, 48.016985278526676],
        [8.654617869191696, 52.632124382111584],
        [7.071257532736325, 53.22211147870587],
        [7.071257532736325, 48.016985278526676],
      ],
    ],
    [
      [
        [8.687227067949465, 50.123045992430264],
        [7.87409708607106, 47.9953328895445],
        [13.406678946673622, 47.900429953329166],
        [9.15985799886883, 48.29564566722206],
        [8.687227067949465, 50.123045992430264],
      ],
    ],
    [
      [
        [10.011648238971844, 48.51780862291838],
        [10.20435570880582, 48.506203024152114],
        [10.414582039533997, 49.868646133865866],
        [10.151799126123478, 49.868646133865866],
        [10.011648238971844, 48.51780862291838],
      ],
    ],
    [
      [
        [10.43210090042814, 48.52941156355294],
        [10.677364952943151, 48.56420443799604],
        [10.799996979202007, 49.868646133865866],
        [10.659846092048952, 49.868646133865866],
        [10.43210090042814, 48.52941156355294],
      ],
    ],
    [
      [
        [11.027742170822847, 49.80084875016706],
        [10.852553561882957, 48.26187119015097],
        [11.150374197080339, 48.21519878109277],
        [11.290525084233366, 49.82345843929639],
        [11.027742170822847, 49.80084875016706],
      ],
    ],
    [
      [
        [9.293374942318252, 48.63371843540844],
        [9.293374942318252, 48.36672845675474],
        [9.398488107683022, 48.36672845675474],
        [9.398488107683022, 48.63371843540844],
        [9.293374942318252, 48.63371843540844],
      ],
    ],
    [
      [
        [9.72617528491756, 48.58837317773805],
        [9.459217840358235, 48.319780637296844],
        [10.792922067981124, 48.175201019110034],
        [10.96572759913579, 49.60551289757785],
        [10.872678466975913, 49.60551289757785],
        [10.699872935821247, 48.508003986583276],
        [10.43844918356271, 48.472765180020275],
        [10.371985517734458, 48.49919658072264],
        [10.584669248385751, 49.71164032492874],
        [10.465034649894335, 49.720235108490755],
        [10.234627275021893, 48.45219789992589],
        [9.94661805643321, 48.48451416985594],
        [10.079545388089741, 49.82611239566296],
        [8.899747514526027, 50.13904923679874],
        [9.72617528491756, 48.58837317773805],
      ],
    ],
  ])
);

export const clusterStressPatchPoints = turf.toMercator(
  turf.multiPoint([
    [9.786438138708434, 52.40156843667452],
    [8.819757921179834, 53.0059740752554],
    [9.995298185322127, 53.57494915882418],
    [9.612388099863892, 49.14533412575591],
  ])
);
